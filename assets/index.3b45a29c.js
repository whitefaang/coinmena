var G=Object.defineProperty,X=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var K=(t,r,a)=>r in t?G(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,g=(t,r)=>{for(var a in r||(r={}))ee.call(r,a)&&K(t,a,r[a]);if(H)for(var a of H(r))te.call(r,a)&&K(t,a,r[a]);return t},x=(t,r)=>X(t,Y(r));import{c as re,j as R,a as y,r as u,R as B,u as le,b as ae,L as se,d as ne,e as $,f as oe,g as _,N as ie,Q as ce,h as de,H as me,i as ue,k as z,l as he}from"./vendor.585b8dfc.js";const fe=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerpolicy&&(n.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?n.credentials="include":l.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(l){if(l.ep)return;l.ep=!0;const n=a(l);fetch(l.href,n)}};fe();const A=re(t=>({selectedCoin:null,user:null,selectCoin:r=>t(a=>x(g({},a),{selectedCoin:r})),setUser:r=>t(a=>x(g({},a),{user:r}))})),e=R.exports.jsx,s=R.exports.jsxs,k=R.exports.Fragment;function D(t){return e("button",x(g({},t),{className:y({"bg-primary text-surface":!t.ghost,"text-primary hover:text-surface bg-opacity-10 hover:bg-primary":t.ghost,"opacity-30 cursor-not-allowed":t.disabled},"px-3 lg:px-6 py-2 transition-all relative active:top-0.5 rounded-3xl",t.className),children:t.children}))}function I(t){return s("div",{children:[e("label",{htmlFor:t.id||t.label,className:"font-semibold",children:t.label}),e("input",x(g({},t),{id:t.id||t.label,className:y("w-full shadow-sm rounded-3xl focus:outline-none border border-primary-muted focus:border-2 text-md p-3 lg:p-4",t.className)})),e("small",{className:"text-red-500",children:t.error})]})}function E({onSuccess:t}){const[r,a]=u.exports.useState({email:"",password:""}),i=A(o=>o.setUser),[l,n]=u.exports.useState({}),c=o=>{let h={};return o.email.trim()?/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o.email)||(h.email="Please enter a valid email"):h.email="Email is required",o.password||(h.password="Password is required"),h},w=o=>{a(h=>x(g({},h),{[o.target.name]:o.target.value}))};return s("form",{className:"grid gap-6",onSubmit:o=>{o.preventDefault();const h=c(r);if(h.email||h.password){n(h);return}i(r),t&&t()},noValidate:!0,children:[e("div",{className:"text-2xl lg:text-4xl font-bold",children:"Hi, Welcome Back!"}),e("p",{className:"text-color-muted mb-5",children:"Start trading now!"}),e(I,{label:"Email",type:"email",name:"email",value:r.email,onChange:w,error:l.email}),e(I,{label:"Password",type:"password",name:"password",value:r.password,onChange:w,error:l.password}),e(D,{className:"text-xl w-full  mx-auto mt-5 !py-4",children:"Login"})]})}const q=B.createContext(null);function j(t){const{onChange:r,children:a,header:i}=t,[l,n]=u.exports.useState(!1),c=()=>{n(!1)};return e(q.Provider,{value:{onChange:r,closeDropDown:c},children:s("div",x(g({},t),{className:`relative flex items-center justify-between px-3 focus:outline outline-primary-muted rounded-lg ${t.className}`,tabIndex:0,onBlur:()=>n(!1),onClick:()=>n(!0),children:[e("div",{className:"mr-2 cursor-pointer",children:i}),e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-chevron-down",viewBox:"0 0 16 16",children:e("path",{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})}),e("ul",{onClick:w=>w.stopPropagation(),className:`${y("overflow-y-auto bg-surface shadow-md absolute top-full right-0 z-20",{"h-auto ":l,"h-0":!l})}`,children:a})]}))})}j.Option=({children:t,value:r,info:a})=>{const i=B.useContext(q);return e("li",{onClick:()=>{i.onChange({value:r}),i.closeDropDown()},className:`${y("list-none p-2 lg:px-3 lg:py-4 cursor-pointer",{"hover:bg-primary-muted":!a})}`,children:t})};function F(t){let r=le(t.to),a=ae({path:r.pathname,end:!0});return e(se,x(g({},t),{className:y("font-semibold hover:text-gray-500",t.className,{"!text-primary":a})}))}function pe(){return e("div",{className:"text-xl font-bold !text-primary",children:"CoinMENA"})}function O({children:t,className:r,show:a,onOverlayClick:i}){const l=u.exports.useRef(document.getElementById("modals")),n=u.exports.useRef(null);return u.exports.useEffect(()=>{a&&n&&setTimeout(()=>{const c=n.current;c&&c.classList.remove("opacity-0","-top-10")},200)},[a]),a?ne.exports.createPortal(e("div",{ref:n,className:y("w-full h-full fixed left-0 bg-gray-900 bg-opacity-30 transition-all opacity-0 top-0 z-50","flex flex-col items-center justify-center",r),onClick:c=>{c.target===n.current&&i&&i()},children:t}),l.current):e(k,{})}function ge(){const[t,r]=u.exports.useState(!1),[a,i]=u.exports.useState(!1),l=[{name:"Home",path:"/"},{name:"Trade",path:"/trade"}],{user:n,setUser:c,selectCoin:w}=A(o=>o),p=()=>{c(null)};return s(k,{children:[e(O,{show:a,onOverlayClick:()=>i(!1),children:e("div",{className:"bg-surface w-10/12 lg:w-6/12 2xl:w-1/3 px-6 py-10 lg:p-12 rounded-lg shadow-md",children:e(E,{onSuccess:()=>i(!1)})})}),s("nav",{className:"flex gap-x-2 relative justify-end  lg:justify-between p-5 shadow-sm items-center bg-surface",children:[e(F,{to:"/",className:"lg:order-1 flex-1 lg:flex-none",children:e(pe,{})}),n?s(j,{header:s("div",{className:"flex items-center gap-3 py-1",children:[e("div",{className:"overflow-hidden w-8 md:w-12 h-8 md:h-12 bg-center bg-cover rounded-full border-2 border-primary",style:{backgroundImage:"url(https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%3Fid%3DOIP.6TmaQB-RHMc1PtloLIyDagHaEK%26pid%3DApi&f=1)"}}),e("span",{className:"hidden lg:text-sm",children:n.email.split("@")[0]})]}),className:"lg:order-3",onChange:p,children:[e(j.Option,{value:"welcome",info:!0,children:e(k,{children:s("p",{className:"text-xs font-bold",children:["Welcome, ",n.email]})})}),e(j.Option,{value:"logout",children:s("div",{className:"flex items-center text-sm text-red-500 font-bold",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),e("span",{className:"ml-2",children:"Logout"})]})})]}):e(D,{className:"rounded-[30px] lg:order-3",onClick:()=>i(!0),children:"Login"}),e(D,{className:"lg:hidden",title:"More..","aria-label":"More..",ghost:!0,onClick:()=>r(!t),children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-list",viewBox:"0 0 16 16",children:e("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})})}),e("div",{className:y("flex-1 hidden absolute lg:relative lg:flex lg:order-2 px-16 gap-10",{"!grid top-full bg-surface w-full left-0 shadow-md pb-3 z-10":t}),children:l.map(o=>e(F,{to:o.path,onClick:()=>r(!1),children:o.name},o.name))})]})]})}const xe=(t,r=10)=>{const a=new Headers;return a.set("x-messari-api-key","ca822321-9a64-4e4b-bfb8-c33fae94d5f0"),fetch(`https://data.messari.io/api/v2/assets?page=${t}&limit=${r}&fields=id,slug,symbol,name,metrics/market_data/price_usd,profile/general/background/issuing_organizations`,{headers:a}).then(i=>i.json())},we=()=>fetch("https://api.exchangerate.host/symbols").then(t=>t.json()),ve=(t,r=1)=>fetch(`https://api.exchangerate.host/convert?from=USD&to=${t}&amount=${r}`).then(a=>a.json());function Q(t=10){var P;const[r,a]=u.exports.useState(1),[i,l]=u.exports.useState("Price desc"),n=(f=0)=>xe(f,t),c=$(["crypto/assets",r],()=>n(r),{keepPreviousData:!0,refetchOnWindowFocus:!1}),w=()=>{a(f=>f+1)},p=()=>{a(f=>f-1)},[o,h]=i.split(" "),S=(f,b)=>{f!==o&&a(1),l(`${f} ${b}`)};return{page:r,next:w,prev:p,lastUpdated:new Date(c.dataUpdatedAt).toLocaleString(),sortKey:i,sortBy:S,loading:c.isLoading,isRefetching:c.isRefetching,error:c.error,data:c.data?(P=c.data.data)==null?void 0:P.map(f=>{var b,v;return{Name:f.name,Price:f.metrics.market_data.price_usd.toFixed(3),ID:f.id,Symbol:f.symbol,Logo:((v=(b=f.profile.general.background.issuing_organizations)==null?void 0:b[0])==null?void 0:v.logo)||"dollar.jfif"}}).sort((f,b)=>{if(o==="Name"){const v=f[o].toLowerCase(),N=b[o].toLowerCase();return h==="desc"?v<N?1:v>N?-1:0:v<N?-1:v>N?1:0}else if(o==="Price"){const v=f[o],N=b[o];return h==="desc"?N-v:v-N}}):[]}}function Z(){return e("div",{className:"h-full w-full bg-surface flex flex-col justify-center items-center shadow-lg py-8",children:s("div",{className:"text-center",children:[e("p",{className:"mb-4 text-red-500",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e("p",{className:"font-semibold text-3xl",children:"Some Error Occured"})]})})}function ye(){const t=Q(),{selectedCoin:r,selectCoin:a}=A(o=>o),i=o=>{var S;if(r&&r.ID===o.ID)return;a(o);const h=document.getElementById("buySell");h&&((S=document.getElementById("content"))==null||S.scrollTo({top:h.offsetTop,behavior:"smooth"}))},[l,n]=t.sortKey.split(" "),c=o=>{l===o?t.sortBy(o,n==="desc"?"asc":"desc"):t.sortBy(o,"desc")},w=["Name","Price"];if(t.error)return e(Z,{});const p=()=>t.loading?e(k,{children:Array(10).fill(0).map((o,h)=>e("tr",{className:"bg-white border-gray-200",children:Array(2).fill(0).map((S,P)=>e("td",{className:"pl-3 py-5 gap-4",children:e("div",{className:"h-6 w-2/3 lg:w-1/3 bg-gray-200 rounded-lg animate-pulse"})},P))},h))}):e(k,{children:t.data.map(o=>u.exports.useMemo(()=>s("tr",{className:y("bg-white hover:bg-primary-muted border-b border-gray-200 text-sm cursor-pointer font-semibold",{"!bg-primary":r&&r.ID===o.ID}),onClick:()=>i(o),children:[s("td",{className:"flex items-center gap-4 px-5 py-3",children:[e("img",{src:o.Logo,alt:o.Name,className:"w-10 h-10 rounded-full shadow-md"}),e("span",{children:o.Name})]}),e("td",{children:`$${o.Price}`})]},o.ID),[o.ID]))});return s(B.Fragment,{children:[s("div",{className:"flex bg-surface flex-wrap",children:[s("div",{className:"p-5 flex-1 text-sm font-bold",children:["Last updated on ",t.lastUpdated]}),s("div",{className:"",children:[e(D,{onClick:t.prev,ghost:!0,"aria-label":"Previous Page",title:"Previous Page",className:"h-full !rounded-none",disabled:t.page===1||t.loading||t.isRefetching,children:e("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),e(D,{onClick:t.next,ghost:!0,"aria-label":"Next Page",title:"Next Page",className:"h-full !rounded-none",disabled:t.loading||t.isRefetching,children:e("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]}),s("table",{className:"min-w-full xl:h-full leading-normal bg-surface rounded-lg shadow-sm overflow-hidden",children:[e("thead",{children:e("tr",{className:"border-gray-200 border-2",children:w.map(o=>e("th",{className:"w-1/2 px-4 py-5 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:s("span",{className:"cursor-pointer flex hover:text-primary",onClick:()=>c(o),children:[o,l===o&&(n==="desc"?e("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}):e("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7l4-4m0 0l4 4m-4-4v18"})}))]})},o))})}),e("tbody",{className:"h-full",children:e(p,{})})]})]})}const V=B.createContext(null);function L(t){const[r,a]=u.exports.useState(),i=(l,n)=>{a(n),t.onChange&&t.onChange(l,n)};return e(V.Provider,{value:{selected:r,onChange:i},children:e("div",{className:"rounded-md bg-surface shadow-sm",children:t.children})})}L.Tabs=({children:t})=>e("div",{className:"flex items-center justify-evenly",children:t});L.Item=({children:t,value:r,id:a,default:i})=>{const{onChange:l,selected:n}=u.exports.useContext(V);return u.exports.useEffect(()=>{!n&&i&&l(r,a)},[]),e("div",{onClick:()=>l(r,a),className:y({"text-primary border-b-primary":a===n},"p-4 flex-1 text-center cursor-pointer hover:text-primary font-bold text-lg","border-b-2 border-r-2 border-gray-200 last:border-r-0"),children:t})};L.Detail=({children:t})=>{const r=i=>t(i),{selected:a}=u.exports.useContext(V);return e("div",{className:"p-3",children:r(a)})};function be(){const{selectedCoin:t}=A(r=>r);return s("div",{className:"flex flex-wrap",children:[e("div",{className:"w-full xl:w-3/4 xl:px-4",children:e(ye,{})}),e("div",{className:"mt-4 xl:mt-0 w-full xl:w-1/4 xl:px-4",children:s(L,{children:[s(L.Tabs,{children:[e(L.Item,{value:{text:"awesome!"},id:"Buy",default:!0,children:"Buy"}),e(L.Item,{value:{text:"not awesome"},id:"Sell",children:"Sell"})]}),e(L.Detail,{children:r=>t?s("div",{className:"p-2",children:[s("div",{className:"mb-4",children:[s("div",{className:"flex items-center gap-4 text-xl font-bold",children:[e("img",{src:t.Logo,alt:t.Name,className:"w-14 h-14 rounded-full shadow-md"}),s("div",{children:[e("span",{className:"ml-2",children:t.Name}),s("span",{className:"ml-2",children:["(",t.Symbol,")"]})]})]}),s("div",{className:"flex items-center",children:[s("div",{className:"flex-1",children:[s("div",{className:"my-5",children:[e("p",{className:"text-3xl sm:text-4xl 2xl:text-6xl font-light truncate",children:"1"}),s("p",{className:"font-bold ml-2",children:["1 ",t.Name," (",t.Symbol,") for"]})]}),s("div",{className:"my-5",children:[e("p",{className:"text-3xl sm:text-4xl 2xl:text-6xl font-light truncate",title:`$${t.Price}`,children:t.Price}),e("p",{className:"font-bold ml-2",children:"USD($)"})]})]}),e("div",{className:"mb-12",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"var(--primary)",viewBox:"0 0 16 16",children:e("path",{fillRule:"evenodd",d:"M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z"})})})]})]}),e(F,{className:"w-full",to:`/trade?base=${t.Symbol}&dir=${r}`,children:s(D,{id:"buySell",className:"w-full !py-3",children:["Proceed to ",r]})})]}):e("div",{id:"buySell",className:"min-h-[300px] flex items-center justify-center text-3xl",children:s("div",{className:"mb-5 text-center",children:[e("p",{className:"text-5xl mb-4",children:"$"}),e("p",{children:"No Asset selected"})]})})})]})})]})}function Ne(){const t=["Built with TailwindCSS + ViteJS for smaller and faster builds","Custom components like Select, Switcher etc","Zustand used for state management","3 routes available home, trade and login","Includes custom hooks for debounce and transforming api responses from react-query","Responsive layout"],r=oe(),a=_().search;return A(n=>n.user)?e(ie,{to:"/"}):s("div",{className:"px-3 py-6 rounded-2xl flex flex-wrap justify-evenly",children:[e("div",{className:"md:w-1/3 md:order-2 mb-10",children:e(E,{onSuccess:()=>{const c=new URLSearchParams(a).get("next");r(c?`/${c}`:"/")}})}),e("div",{className:"md:w-1/3 grid md:order-1",children:t.map(n=>s("div",{className:"flex gap-x-5 text-lg md:text-2xl",children:[e("div",{className:"w-8 mb-16",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),e("span",{children:n})]},n))}),s("svg",{id:"clouds",className:"fixed bottom-[-160px] left-[-230px] w-screen -z-10",xmlns:"http://www.w3.org/2000/svg",width:"2611.084",height:"485.677",viewBox:"0 0 2611.084 485.677",children:[e("title",{children:"Gray Clouds Background"}),e("path",{id:"Path_39","data-name":"Path 39",d:"M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z",transform:"translate(142.69 -634.312)",fill:"#eee"})]})]})}function T(t,r=700){const[a,i]=u.exports.useState(t);return u.exports.useEffect(()=>{setTimeout(()=>{i(t)},r)},[t]),a}function J({children:t}){const[r,a]=u.exports.useState(""),i=T(r);return s(k,{children:[e(I,{name:"searchKey",className:"shadow-md sticky",placeholder:"Search ..",value:r,onChange:n=>a(n.target.value)}),(()=>t(i))()]})}const Ce={ctf:"ctf",ftc:"ftc"};function ke({availableCryptos:t,availableFiats:r,initialCrypto:a,initialDirection:i}){var U,W;const[l,n]=u.exports.useState({fiat:{code:"USD",description:"United Stated Dollar"},crypto:a,fiatAmount:1,cryptoAmount:1,conversionDir:i&&Ce[i]||"ctf",modal:null}),c=T(l.cryptoAmount),w=T(l.fiatAmount),p=$("fiat/exchange",()=>ve(l.fiat.code),{initialData:{rates:{}},keepPreviousData:!0,refetchOnWindowFocus:!1});u.exports.useEffect(()=>{p.refetch()},[l.fiat.code]),u.exports.useEffect(()=>{var m;((m=p.data)==null?void 0:m.info)&&n(d=>{var C;return g(g({},d),d.conversionDir==="ctf"?{fiatAmount:p.data.info.rate*(d.cryptoAmount*d.crypto.Price)}:{cryptoAmount:((C=p.data)==null?void 0:C.info.rate)*d.fiatAmount/d.crypto.Price})})},[(W=(U=p.data)==null?void 0:U.info)==null?void 0:W.rate,l.crypto.ID,w,c]);const o=m=>{n(d=>x(g({},d),{crypto:m,modal:null}))},h=m=>{n(d=>x(g({},d),{fiat:m,modal:null}))},S=()=>e(J,{children:m=>e("div",{className:"grid lg:grid-cols-2 2xl:grid-cols-3 gap-4 p-4",children:Object.entries(r.symbols).map(d=>{const[C,M]=d;return JSON.stringify(Object.values(M)).match(new RegExp(m,"i"))?s("div",{className:"px-3 py-4 border flex items-center gap-7 shadow-sm cursor-pointer hover:shadow-md rounded-md",onClick:()=>h(M),children:[e("div",{className:`w-12 h-8 shadow-lg currency-flag currency-flag-${C.toLowerCase()}`}),s("div",{className:"flex-1 font-semibold",children:[e("p",{children:C}),e("p",{className:"font-semibold",children:M.description})]})]},C):""})})}),P=()=>e(J,{children:m=>e("div",{className:"grid lg:grid-cols-2 2xl:grid-cols-3 gap-4 p-4",children:t.map(d=>JSON.stringify(Object.values(d)).match(new RegExp(m,"i"))?s("div",{className:"px-3 py-4 border flex gap-7 shadow-sm cursor-pointer hover:shadow-md rounded-md",onClick:()=>o(d),children:[e("img",{src:d.Logo,alt:d.Name,className:"w-12 h-12"}),s("div",{className:"flex-1 font-semibold",children:[e("p",{children:d.Name}),s("p",{className:"font-semibold",children:["$",d.Price]})]})]},d.ID):"")})}),f=m=>{n(d=>x(g({},d),{modal:m}))},b=()=>{n(m=>x(g({},m),{modal:null}))},v=m=>{if(m.target.value&&!/^-?\d+\.?\d*$/.exec(m.target.value))return;let d=(m.target.value?m.target.value:0).toString();for(;d.startsWith("0")&&d.length>1;)d=d.slice(1);n(C=>x(g({},C),{[m.target.name]:d}))},N=()=>{n(m=>x(g({},m),{conversionDir:m.conversionDir==="ctf"?"ftc":"ctf"}))};return s(k,{children:[e(O,{show:!!l.modal,onOverlayClick:b,children:e("div",{className:"bg-surface w-11/12 2xl:w-2/3 h-3/4 overflow-y-auto rounded-lg shadow-lg p-3",children:e("div",{className:"relative h-full",children:l.modal==="crypto"?e(P,{}):e(S,{})})})}),s("div",{className:"w-full flex flex-wrap bg-surface h-full rounded-lg p-4 shadow-md justify-between",children:[s("div",{className:y("w-full md:w-1/3 flex flex-col gap-4",{"order-3":l.conversionDir==="ftc"}),children:[s("div",{className:"flex justify-between items-center px-5 border shadow-sm cursor-pointer hover:shadow-md rounded-md",onClick:()=>f("crypto"),children:[s("div",{className:"pr-3 py-4 flex gap-7",children:[e("img",{src:l.crypto.Logo,alt:l.crypto.Name,className:"w-12 h-12"}),s("div",{className:"flex-1 font-semibold",children:[e("p",{children:l.crypto.Name}),s("p",{className:"font-semibold",children:["$",l.crypto.Price]})]})]}),e("span",{children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"var(--primary)",viewBox:"0 0 16 16",children:e("path",{fillRule:"evenodd",d:"M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z"})})})]}),e("div",{className:"flex-1 w-full",children:e("textarea",{name:"cryptoAmount",disabled:l.conversionDir==="ftc",onChange:v,value:l.cryptoAmount,className:"shadow-md text-lg h-full w-full rounded-lg focus:outline-none border border-primary-muted focus:border-2 focus:rounded-xl resize-none md:text-5xl p-4"})})]}),s("div",{className:y("w-full md:w-1/3 text-xl sm:text-3xl lg:text-4xl 2xl:text-6xl flex flex-col items-center justify-center gap-5 md:gap-y-10",{"order-2":l.conversionDir==="ftc"}),children:[e("div",{className:y("transform transition-all cursor-pointer hover:scale-125",{"md:rotate-90":l.conversionDir==="ctf","md:-rotate-90 rotate-180":l.conversionDir==="ftc"}),onClick:N,children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",fill:"var(--primary)",viewBox:"0 0 16 16",children:e("path",{fillRule:"evenodd",d:"M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z"})})}),s("div",{children:[l.conversionDir==="ctf"?e("span",{children:"x"}):e("span",{children:"\xF7"}),e("span",{className:"ml-3 font-semibold",children:l.crypto.Price})]}),e(D,{className:"!py-3 hidden md:block md:text-lg font-semibold rounded-md",type:"button",children:"Connect Wallet"})]}),s("div",{className:y("w-full md:w-1/3 flex flex-col gap-4",{"order-1":l.conversionDir==="ftc"}),children:[s("div",{className:"px-3 py-4 border flex items-center gap-7 shadow-sm cursor-pointer hover:shadow-md rounded-md",onClick:()=>f("fiat"),children:[e("div",{className:`w-12 h-8 shadow-lg currency-flag currency-flag-${l.fiat.code.toLowerCase()}`}),s("div",{className:"flex-1 font-semibold",children:[e("p",{children:l.fiat.code}),e("p",{className:"font-semibold",children:l.fiat.description})]}),e("span",{children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"var(--primary)",viewBox:"0 0 16 16",children:e("path",{fillRule:"evenodd",d:"M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z"})})})]}),e("div",{className:"flex-1 w-full",children:e("textarea",{name:"fiatAmount",onChange:v,disabled:l.conversionDir==="ctf",value:l.fiatAmount,className:"shadow-md text-lg h-full w-full rounded-lg focus:outline-none border border-primary-muted focus:border-2 focus:rounded-xl resize-none md:text-5xl p-4"})})]})]})]})}function Le(){const t=A(p=>p.user),r=Q(50),a=$("fiat/currencies",()=>we(),{initialData:{symbols:{}}}),i=_().search;if(r.loading||a.isLoading)return e("div",{className:"h-full w-full flex flex-col items-center justify-center",children:e("div",{className:"w-10/12 md:w-1/3 bg-primary rounded-lg h-1.5 lg:h-3 animate-pulse"})});if(r.error||a.error)return e(Z,{});const l=new URLSearchParams(i),n=l.get("base"),c=l.get("dir")||"Buy",w={Buy:"ftc",Sell:"ctf"};return s(k,{children:[e(O,{show:!t,children:e("div",{className:"bg-surface w-10/12 lg:w-6/12 2xl:w-1/3 px-6 py-10 lg:p-12 rounded-lg shadow-md",children:e(E,{})})}),e(ke,{initialCrypto:n&&r.data.find(p=>p.Symbol===n)||r.data[0],initialDirection:w[c],availableCryptos:r.data,availableFiats:a.data})]})}const Se=new ce;function De(){return e(de,{client:Se,children:e(me,{children:s("main",{className:"flex flex-col h-screen",children:[e(ge,{}),e("section",{id:"content",className:"flex-1 overflow-y-auto p-6",children:s(ue,{children:[e(z,{index:!0,element:e(be,{})}),e(z,{path:"/trade",element:e(Le,{})}),e(z,{path:"/login",element:e(Ne,{})})]})})]})})})}he.render(e(B.StrictMode,{children:e(De,{})}),document.getElementById("root"));
